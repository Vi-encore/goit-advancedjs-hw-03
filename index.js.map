{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const key = '24152486-dede519cf70640e98e72cca28';\n\nexport default function fetchPic(value) {\n  const searchParams = new URLSearchParams({\n    key: '50950053-db3558a1af50bab2399c0c009',\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`https://pixabay.com/api/?${searchParams}`).then(res => {\n    if (!res.ok) throw new Error(response.status);\n    return res.json();\n  });\n}\n","export default function renderGallery(picArr) {\n  let galleryComplete = '';\n  picArr.map(item => {\n    const {\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    } = item;\n\n    galleryComplete += `<li class='gallery_item'>\n    <a href='${largeImageURL}' target=\"_blank\">\n      <img src='${webformatURL}' alt='${tags}' class='gallery_img'/>\n      <div class='gallery_info_wrapper'>\n        <p class='gallery_info'>Likes <span>${likes}</span></p>\n        <p class='gallery_info'>Views <span>${views}</span></p>\n        <p class='gallery_info'>Comments <span>${comments}</span></p>\n        <p class='gallery_info'>Downloads <span>${downloads}</span></p>\n      </div>\n    </a>\n    </li>`;\n  });\n\n  return galleryComplete;\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport fetchPic from './js/pixabay-api';\nimport renderGallery from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst formInput = document.querySelector('.form_input');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet simplelightbox = new SimpleLightbox('.gallery_item a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const searchQuerry = formInput.value.trim();\n\n  if (searchQuerry === '') {\n    iziToast.error({\n      message: 'Search value is empty',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  gallery.innerHTML = ''; //cleanup prev gallery\n  gallery.classList.add('hidden');\n  loader.classList.remove('hidden');\n\n  fetchPic(searchQuerry)\n    .then(data => {\n      formInput.value = '';\n      if (data.hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        loader.classList.add('hidden');\n        gallery.classList.remove('hidden');\n        return;\n      }\n\n      const galleryLoaded = renderGallery(data.hits);\n      gallery.innerHTML = galleryLoaded;\n      simplelightbox.refresh();\n    })\n    .catch(error => {\n      iziToast.error({\n        message: `${error.message || 'Something went wrong!'}`,\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      loader.classList.add('hidden');\n      gallery.classList.remove('hidden');\n    });\n});\n"],"names":["fetchPic","value","searchParams","res","renderGallery","picArr","galleryComplete","item","webformatURL","largeImageURL","tags","likes","views","comments","downloads","form","formInput","gallery","loader","simplelightbox","SimpleLightbox","e","searchQuerry","iziToast","data","galleryLoaded","error"],"mappings":"6vBAEe,SAASA,EAASC,EAAO,CACtC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAAE,KAAKC,GAAO,CACnE,GAAI,CAACA,EAAI,GAAI,MAAM,IAAI,MAAM,SAAS,MAAM,EAC5C,OAAOA,EAAI,KAAI,CACjB,CAAC,CACH,CCde,SAASC,EAAcC,EAAQ,CAC5C,IAAIC,EAAkB,GACtB,OAAAD,EAAO,IAAIE,GAAQ,CACjB,KAAM,CACJ,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACN,EAAQP,EAEJD,GAAmB;AAAA,eACRG,CAAa;AAAA,kBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA,8CAEEC,CAAK;AAAA,8CACLC,CAAK;AAAA,iDACFC,CAAQ;AAAA,kDACPC,CAAS;AAAA;AAAA;AAAA,UAIzD,CAAC,EAEMR,CACT,CCdA,MAAMS,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAiB,IAAIC,EAAe,kBAAmB,CACzD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDL,EAAK,iBAAiB,SAAUM,GAAK,CACnCA,EAAE,eAAc,EAEhB,MAAMC,EAAeN,EAAU,MAAM,KAAI,EAEzC,GAAIM,IAAiB,GAAI,CACvBC,EAAS,MAAM,CACb,QAAS,wBACT,SAAU,UAChB,CAAK,EACD,MACF,CAEAN,EAAQ,UAAY,GACpBA,EAAQ,UAAU,IAAI,QAAQ,EAC9BC,EAAO,UAAU,OAAO,QAAQ,EAEhClB,EAASsB,CAAY,EAClB,KAAKE,GAAQ,CAEZ,GADAR,EAAU,MAAQ,GACdQ,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,EACDL,EAAO,UAAU,IAAI,QAAQ,EAC7BD,EAAQ,UAAU,OAAO,QAAQ,EACjC,MACF,CAEA,MAAMQ,EAAgBrB,EAAcoB,EAAK,IAAI,EAC7CP,EAAQ,UAAYQ,EACpBN,EAAe,QAAO,CACxB,CAAC,EACA,MAAMO,GAAS,CACdH,EAAS,MAAM,CACb,QAAS,GAAGG,EAAM,SAAW,uBAAuB,GACpD,SAAU,UAClB,CAAO,CACH,CAAC,EACA,QAAQ,IAAM,CACbR,EAAO,UAAU,IAAI,QAAQ,EAC7BD,EAAQ,UAAU,OAAO,QAAQ,CACnC,CAAC,CACL,CAAC"}